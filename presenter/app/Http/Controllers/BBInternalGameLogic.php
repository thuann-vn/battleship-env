<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use App\Entities\BBBoardInfo;

class BBInternalGameLogic extends Controller
{
    //
    public function init($sid, $token)
    {
        //
        $objIsoMapData = [
        15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,8,15,15,15,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
        11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,
        14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,
        ];
        return response()->json(array('iso_width' => 20,
                                      'iso_height' => 20,
                                      'iso_base' => $objIsoMapData,
                                      'session_info' => array('id' => $sid),
                                        ), 
                                      200);

    }

    public function roundFetch($sid, $token)
    {
        //
        //by now, I use $token for fetch step index, to get test data
        $objBoardInfo = new BBBoardInfo($sid, $token);
        $objBoardInfo->timeFetchTime = 1000;

        return response()->json($objBoardInfo, 200);

    }

}
